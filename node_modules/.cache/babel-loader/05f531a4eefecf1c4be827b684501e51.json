{"ast":null,"code":"import _classCallCheck from \"D:/code/vue/vue_acgn_platform/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/code/vue/vue_acgn_platform/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"D:/code/vue/vue_acgn_platform/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.object.freeze.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/*!\n * Vue-Lazyload.js v1.3.4\n * (c) 2021 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n// see http://jsperf.com/testing-value-is-primitive/7\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && _typeof(value) !== 'object';\n};\n\nvar isPrimitive$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': isPrimitive,\n  __moduleExports: isPrimitive\n});\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nvar assignSymbols = function assignSymbols(receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n      i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar assignSymbols$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols,\n  __moduleExports: assignSymbols\n});\nvar toString = Object.prototype.toString;\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = _typeof(val); // primitivies\n\n\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  } // functions\n\n\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n\n    return 'function';\n  } // array\n\n\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  } // check for instances of RegExp and Date before calling `toString`\n\n\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n\n  if (val instanceof Date) {\n    return 'date';\n  } // other objects\n\n\n  type = toString.call(val);\n\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n\n  if (type === '[object Date]') {\n    return 'date';\n  }\n\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n\n  if (type === '[object Error]') {\n    return 'error';\n  }\n\n  if (type === '[object Promise]') {\n    return 'promise';\n  } // buffer\n\n\n  if (isBuffer(val)) {\n    return 'buffer';\n  } // es6: Map, WeakMap, Set, WeakSet\n\n\n  if (type === '[object Set]') {\n    return 'set';\n  }\n\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n\n  if (type === '[object Map]') {\n    return 'map';\n  }\n\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  } // typed arrays\n\n\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  } // must be a plain object\n\n\n  return 'object';\n};\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\nvar kindOf$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': kindOf,\n  __moduleExports: kindOf\n});\nvar isPrimitive$2 = isPrimitive$1 && isPrimitive || isPrimitive$1;\nvar assignSymbols$2 = assignSymbols$1 && assignSymbols || assignSymbols$1;\nvar typeOf = kindOf$1 && kindOf || kindOf$1;\n\nfunction assign(target\n/*, objects*/\n) {\n  target = target || {};\n  var len = arguments.length,\n      i = 0;\n\n  if (len === 1) {\n    return target;\n  }\n\n  while (++i < len) {\n    var val = arguments[i];\n\n    if (isPrimitive$2(target)) {\n      target = val;\n    }\n\n    if (isObject(val)) {\n      extend(target, val);\n    }\n  }\n\n  return target;\n}\n/**\n * Shallow extend\n */\n\n\nfunction extend(target, obj) {\n  assignSymbols$2(target, obj);\n\n  for (var key in obj) {\n    if (isValidKey(key) && hasOwn(obj, key)) {\n      var val = obj[key];\n\n      if (isObject(val)) {\n        if (typeOf(target[key]) === 'undefined' && typeOf(val) === 'function') {\n          target[key] = val;\n        }\n\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * Returns true if the object is a plain object or a function.\n */\n\n\nfunction isObject(obj) {\n  return typeOf(obj) === 'object' || typeOf(obj) === 'function';\n}\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\n * Returns true if the given `key` is a valid key that can be used for assigning properties.\n */\n\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n/**\n * Expose `assign`\n */\n\n\nvar assignDeep = assign;\nvar inBrowser = typeof window !== 'undefined' && window !== null;\nvar hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function get() {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar modeType = {\n  event: 'event',\n  observer: 'observer' // CustomEvent polyfill for IE\n\n};\n\nvar CustomEvent = function () {\n  if (!inBrowser) return; // not IE\n\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction _remove(arr, item) {\n  if (!arr.length) return;\n  var index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  var has = false;\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n  var options = el.getAttribute('data-srcset');\n  var result = [];\n  var container = el.parentNode;\n  var containerWidth = container.offsetWidth * scale;\n  var spaceIndex;\n  var tmpSrc;\n  var tmpWidth;\n  options = options.trim().split(',');\n  options.map(function (item) {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n\n    result.push([tmpWidth, tmpSrc]);\n  });\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n\n    if (a[0] > b[0]) {\n      return -1;\n    }\n\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n\n    return 0;\n  });\n  var bestSelectedSrc = '';\n  var tmpOption;\n\n  for (var i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    var next = result[i + 1];\n\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  var item;\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n\n  return item;\n}\n\nvar getDPR = function getDPR() {\n  var scale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return inBrowser ? window.devicePixelRatio || scale : scale;\n};\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n  var support = true;\n\n  try {\n    var elem = document.createElement('canvas');\n\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  var timeout = null;\n  var movement = null;\n  var lastRun = 0;\n  var needRun = false;\n  return function () {\n    needRun = true;\n\n    if (timeout) {\n      return;\n    }\n\n    var elapsed = Date.now() - lastRun;\n    var context = this;\n    var args = arguments;\n\n    var runCallback = function runCallback() {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  var support = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n\n  return support;\n}\n\nvar supportsPassive = testSupportsPassive();\nvar _ = {\n  on: function on(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off: function off(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nvar loadImageAsync = function loadImageAsync(item, resolve, reject) {\n  var image = new Image();\n\n  if (!item || !item.src) {\n    var err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nvar style = function style(el, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nvar overflow = function overflow(el) {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(el) {\n  if (!inBrowser) return;\n\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject$1(obj) {\n  return obj !== null && _typeof(obj) === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    var keys = [];\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  var len = arrLike.length;\n  var list = [];\n\n  for (var i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n\n  return list;\n}\n\nfunction noop() {}\n\nvar ImageCache = /*#__PURE__*/function () {\n  function ImageCache(_ref) {\n    var max = _ref.max;\n\n    _classCallCheck(this, ImageCache);\n\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  _createClass(ImageCache, [{\n    key: \"has\",\n    value: function has(key) {\n      return this._caches.indexOf(key) > -1;\n    }\n  }, {\n    key: \"add\",\n    value: function add(key) {\n      if (this.has(key)) return;\n\n      this._caches.push(key);\n\n      if (this._caches.length > this.options.max) {\n        this.free();\n      }\n    }\n  }, {\n    key: \"free\",\n    value: function free() {\n      this._caches.shift();\n    }\n  }]);\n\n  return ImageCache;\n}(); // el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\n\nvar ReactiveListener = /*#__PURE__*/function () {\n  function ReactiveListener(_ref2) {\n    var el = _ref2.el,\n        src = _ref2.src,\n        error = _ref2.error,\n        loading = _ref2.loading,\n        bindType = _ref2.bindType,\n        $parent = _ref2.$parent,\n        options = _ref2.options,\n        cors = _ref2.cors,\n        elRenderer = _ref2.elRenderer,\n        imageCache = _ref2.imageCache;\n\n    _classCallCheck(this, ReactiveListener);\n\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n    this.options = options;\n    this.rect = null;\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n  /*\n   * init listener state\n   * @return\n   */\n\n\n  _createClass(ReactiveListener, [{\n    key: \"initState\",\n    value: function initState() {\n      if ('dataset' in this.el) {\n        this.el.dataset.src = this.src;\n      } else {\n        this.el.setAttribute('data-src', this.src);\n      }\n\n      this.state = {\n        loading: false,\n        error: false,\n        loaded: false,\n        rendered: false\n      };\n    }\n    /*\n     * record performance\n     * @return\n     */\n\n  }, {\n    key: \"record\",\n    value: function record(event) {\n      this.performanceData[event] = Date.now();\n    }\n    /*\n     * update image listener data\n     * @param  {String} image uri\n     * @param  {String} loading image uri\n     * @param  {String} error image uri\n     * @return\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(_ref3) {\n      var src = _ref3.src,\n          loading = _ref3.loading,\n          error = _ref3.error;\n      var oldSrc = this.src;\n      this.src = src;\n      this.loading = loading;\n      this.error = error;\n      this.filter();\n\n      if (oldSrc !== this.src) {\n        this.attempt = 0;\n        this.initState();\n      }\n    }\n    /*\n     * get el node rect\n     * @return\n     */\n\n  }, {\n    key: \"getRect\",\n    value: function getRect() {\n      this.rect = this.el.getBoundingClientRect();\n    }\n    /*\n     *  check el is in view\n     * @return {Boolean} el is in view\n     */\n\n  }, {\n    key: \"checkInView\",\n    value: function checkInView() {\n      this.getRect();\n      return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n    /*\n     * listener filter\n     */\n\n  }, {\n    key: \"filter\",\n    value: function filter() {\n      var _this = this;\n\n      ObjectKeys(this.options.filter).map(function (key) {\n        _this.options.filter[key](_this, _this.options);\n      });\n    }\n    /*\n     * render loading first\n     * @params cb:Function\n     * @return\n     */\n\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading(cb) {\n      var _this2 = this;\n\n      this.state.loading = true;\n      loadImageAsync({\n        src: this.loading,\n        cors: this.cors\n      }, function (data) {\n        _this2.render('loading', false);\n\n        _this2.state.loading = false;\n        cb();\n      }, function () {\n        // handler `loading image` load failed\n        cb();\n        _this2.state.loading = false;\n        if (!_this2.options.silent) console.warn(\"VueLazyload log: load failed with loading image(\".concat(_this2.loading, \")\"));\n      });\n    }\n    /*\n     * try load image and  render it\n     * @return\n     */\n\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this3 = this;\n\n      var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (this.attempt > this.options.attempt - 1 && this.state.error) {\n        if (!this.options.silent) console.log(\"VueLazyload log: \".concat(this.src, \" tried too more than \").concat(this.options.attempt, \" times\"));\n        onFinish();\n        return;\n      }\n\n      if (this.state.rendered && this.state.loaded) return;\n\n      if (this._imageCache.has(this.src)) {\n        this.state.loaded = true;\n        this.render('loaded', true);\n        this.state.rendered = true;\n        return onFinish();\n      }\n\n      this.renderLoading(function () {\n        _this3.attempt++;\n        _this3.options.adapter['beforeLoad'] && _this3.options.adapter['beforeLoad'](_this3, _this3.options);\n\n        _this3.record('loadStart');\n\n        loadImageAsync({\n          src: _this3.src,\n          cors: _this3.cors\n        }, function (data) {\n          _this3.naturalHeight = data.naturalHeight;\n          _this3.naturalWidth = data.naturalWidth;\n          _this3.state.loaded = true;\n          _this3.state.error = false;\n\n          _this3.record('loadEnd');\n\n          _this3.render('loaded', false);\n\n          _this3.state.rendered = true;\n\n          _this3._imageCache.add(_this3.src);\n\n          onFinish();\n        }, function (err) {\n          !_this3.options.silent && console.error(err);\n          _this3.state.error = true;\n          _this3.state.loaded = false;\n\n          _this3.render('error', false);\n        });\n      });\n    }\n    /*\n     * render image\n     * @param  {String} state to render // ['loading', 'src', 'error']\n     * @param  {String} is form cache\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render(state, cache) {\n      this.elRenderer(this, state, cache);\n    }\n    /*\n     * output performance data\n     * @return {Object} performance data\n     */\n\n  }, {\n    key: \"performance\",\n    value: function performance() {\n      var state = 'loading';\n      var time = 0;\n\n      if (this.state.loaded) {\n        state = 'loaded';\n        time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n      }\n\n      if (this.state.error) state = 'error';\n      return {\n        src: this.src,\n        state: state,\n        time: time\n      };\n    }\n    /*\n     * $destroy\n     * @return\n     */\n\n  }, {\n    key: \"$destroy\",\n    value: function $destroy() {\n      this.el = null;\n      this.src = null;\n      this.error = null;\n      this.loading = null;\n      this.bindType = null;\n      this.attempt = 0;\n    }\n  }]);\n\n  return ReactiveListener;\n}();\n\nvar DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nfunction Lazy(Vue) {\n  return /*#__PURE__*/function () {\n    function Lazy(_ref4) {\n      var preLoad = _ref4.preLoad,\n          error = _ref4.error,\n          throttleWait = _ref4.throttleWait,\n          preLoadTop = _ref4.preLoadTop,\n          dispatchEvent = _ref4.dispatchEvent,\n          loading = _ref4.loading,\n          attempt = _ref4.attempt,\n          _ref4$silent = _ref4.silent,\n          silent = _ref4$silent === void 0 ? true : _ref4$silent,\n          scale = _ref4.scale,\n          listenEvents = _ref4.listenEvents,\n          hasbind = _ref4.hasbind,\n          filter = _ref4.filter,\n          adapter = _ref4.adapter,\n          observer = _ref4.observer,\n          observerOptions = _ref4.observerOptions;\n\n      _classCallCheck(this, Lazy);\n\n      this.version = '\"1.3.4\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n\n      this._initEvent();\n\n      this._imageCache = new ImageCache({\n        max: 200\n      });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n\n\n    _createClass(Lazy, [{\n      key: \"config\",\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        assignDeep(this.options, options);\n      }\n      /**\n       * output listener's load performance\n       * @return {Array}\n       */\n\n    }, {\n      key: \"performance\",\n      value: function performance() {\n        var list = [];\n        this.ListenerQueue.map(function (item) {\n          list.push(item.performance());\n        });\n        return list;\n      }\n      /*\n       * add lazy component to queue\n       * @param  {Vue} vm lazy component instance\n       * @return\n       */\n\n    }, {\n      key: \"addLazyBox\",\n      value: function addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n\n        if (inBrowser) {\n          this._addListenerTarget(window);\n\n          this._observer && this._observer.observe(vm.el);\n\n          if (vm.$el && vm.$el.parentNode) {\n            this._addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n      /*\n       * add image listener to queue\n       * @param  {DOM} el\n       * @param  {object} binding vue directive binding\n       * @param  {vnode} vnode vue directive vnode\n       * @return\n       */\n\n    }, {\n      key: \"add\",\n      value: function add(el, binding, vnode) {\n        var _this4 = this;\n\n        if (some(this.ListenerQueue, function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return Vue.nextTick(this.lazyLoadHandler);\n        }\n\n        var _this$_valueFormatter = this._valueFormatter(binding.value),\n            src = _this$_valueFormatter.src,\n            loading = _this$_valueFormatter.loading,\n            error = _this$_valueFormatter.error,\n            cors = _this$_valueFormatter.cors;\n\n        Vue.nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this4.options.scale) || src;\n          _this4._observer && _this4._observer.observe(el);\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent;\n\n          if (container) {\n            $parent = vnode.context.$refs[container]; // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n\n          if (!$parent) {\n            $parent = scrollParent(el);\n          }\n\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            loading: loading,\n            error: error,\n            src: src,\n            cors: cors,\n            elRenderer: _this4._elRenderer.bind(_this4),\n            options: _this4.options,\n            imageCache: _this4._imageCache\n          });\n\n          _this4.ListenerQueue.push(newListener);\n\n          if (inBrowser) {\n            _this4._addListenerTarget(window);\n\n            _this4._addListenerTarget($parent);\n          }\n\n          _this4.lazyLoadHandler();\n\n          Vue.nextTick(function () {\n            return _this4.lazyLoadHandler();\n          });\n        });\n      }\n      /**\n      * update image src\n      * @param  {DOM} el\n      * @param  {object} vue directive binding\n      * @return\n      */\n\n    }, {\n      key: \"update\",\n      value: function update(el, binding, vnode) {\n        var _this5 = this;\n\n        var _this$_valueFormatter2 = this._valueFormatter(binding.value),\n            src = _this$_valueFormatter2.src,\n            loading = _this$_valueFormatter2.loading,\n            error = _this$_valueFormatter2.error;\n\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        var exist = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            loading: loading,\n            error: error\n          });\n        }\n\n        if (this._observer) {\n          this._observer.unobserve(el);\n\n          this._observer.observe(el);\n        }\n\n        this.lazyLoadHandler();\n        Vue.nextTick(function () {\n          return _this5.lazyLoadHandler();\n        });\n      }\n      /**\n      * remove listener form list\n      * @param  {DOM} el\n      * @return\n      */\n\n    }, {\n      key: \"remove\",\n      value: function remove(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        var existItem = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n\n        if (existItem) {\n          this._removeListenerTarget(existItem.$parent);\n\n          this._removeListenerTarget(window);\n\n          _remove(this.ListenerQueue, existItem);\n\n          existItem.$destroy();\n        }\n      }\n      /*\n       * remove lazy components form list\n       * @param  {Vue} vm Vue instance\n       * @return\n       */\n\n    }, {\n      key: \"removeComponent\",\n      value: function removeComponent(vm) {\n        if (!vm) return;\n\n        _remove(this.ListenerQueue, vm);\n\n        this._observer && this._observer.unobserve(vm.el);\n\n        if (vm.$parent && vm.$el.parentNode) {\n          this._removeListenerTarget(vm.$el.parentNode);\n        }\n\n        this._removeListenerTarget(window);\n      }\n    }, {\n      key: \"setMode\",\n      value: function setMode(mode) {\n        var _this6 = this;\n\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n\n        this.mode = mode; // event or observer\n\n        if (mode === modeType.event) {\n          if (this._observer) {\n            this.ListenerQueue.forEach(function (listener) {\n              _this6._observer.unobserve(listener.el);\n            });\n            this._observer = null;\n          }\n\n          this.TargetQueue.forEach(function (target) {\n            _this6._initListen(target.el, true);\n          });\n        } else {\n          this.TargetQueue.forEach(function (target) {\n            _this6._initListen(target.el, false);\n          });\n\n          this._initIntersectionObserver();\n        }\n      }\n      /*\n      *** Private functions ***\n      */\n\n      /*\n       * add listener target\n       * @param  {DOM} el listener target\n       * @return\n       */\n\n    }, {\n      key: \"_addListenerTarget\",\n      value: function _addListenerTarget(el) {\n        if (!el) return;\n        var target = find(this.TargetQueue, function (target) {\n          return target.el === el;\n        });\n\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.TargetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this._initListen(target.el, true);\n          this.TargetQueue.push(target);\n        } else {\n          target.childrenCount++;\n        }\n\n        return this.TargetIndex;\n      }\n      /*\n       * remove listener target or reduce target childrenCount\n       * @param  {DOM} el or window\n       * @return\n       */\n\n    }, {\n      key: \"_removeListenerTarget\",\n      value: function _removeListenerTarget(el) {\n        var _this7 = this;\n\n        this.TargetQueue.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n\n            if (!target.childrenCount) {\n              _this7._initListen(target.el, false);\n\n              _this7.TargetQueue.splice(index, 1);\n\n              target = null;\n            }\n          }\n        });\n      }\n      /*\n       * add or remove eventlistener\n       * @param  {DOM} el DOM or Window\n       * @param  {boolean} start flag\n       * @return\n       */\n\n    }, {\n      key: \"_initListen\",\n      value: function _initListen(el, start) {\n        var _this8 = this;\n\n        this.options.ListenEvents.forEach(function (evt) {\n          return _[start ? 'on' : 'off'](el, evt, _this8.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: \"_initEvent\",\n      value: function _initEvent() {\n        var _this9 = this;\n\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n\n        this.$on = function (event, func) {\n          if (!_this9.Event.listeners[event]) _this9.Event.listeners[event] = [];\n\n          _this9.Event.listeners[event].push(func);\n        };\n\n        this.$once = function (event, func) {\n          var vm = _this9;\n\n          function on() {\n            vm.$off(event, on);\n            func.apply(vm, arguments);\n          }\n\n          _this9.$on(event, on);\n        };\n\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this9.Event.listeners[event]) return;\n            _this9.Event.listeners[event].length = 0;\n            return;\n          }\n\n          _remove(_this9.Event.listeners[event], func);\n        };\n\n        this.$emit = function (event, context, inCache) {\n          if (!_this9.Event.listeners[event]) return;\n\n          _this9.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n      /**\n       * find nodes which in viewport and trigger load\n       * @return\n       */\n\n    }, {\n      key: \"_lazyLoadHandler\",\n      value: function _lazyLoadHandler() {\n        var _this10 = this;\n\n        var freeList = [];\n        this.ListenerQueue.forEach(function (listener, index) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          _remove(_this10.ListenerQueue, item);\n\n          item.$destroy();\n        });\n      }\n      /**\n      * init IntersectionObserver\n      * set mode to observer\n      * @return\n      */\n\n    }, {\n      key: \"_initIntersectionObserver\",\n      value: function _initIntersectionObserver() {\n        var _this11 = this;\n\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n\n        if (this.ListenerQueue.length) {\n          this.ListenerQueue.forEach(function (listener) {\n            _this11._observer.observe(listener.el);\n          });\n        }\n      }\n      /**\n      * init IntersectionObserver\n      * @return\n      */\n\n    }, {\n      key: \"_observerHandler\",\n      value: function _observerHandler(entries, observer) {\n        var _this12 = this;\n\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this12.ListenerQueue.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this12._observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n      /**\n      * set element attribute with image'url and state\n      * @param  {object} lazyload listener object\n      * @param  {string} state will be rendered\n      * @param  {bool} inCache  is rendered from cache\n      * @return\n      */\n\n    }, {\n      key: \"_elRenderer\",\n      value: function _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n            bindType = listener.bindType;\n        var src;\n\n        switch (state) {\n          case 'loading':\n            src = listener.loading;\n            break;\n\n          case 'error':\n            src = listener.error;\n            break;\n\n          default:\n            src = listener.src;\n            break;\n        }\n\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n          el.setAttribute('src', src);\n        }\n\n        el.setAttribute('lazy', state);\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n      /**\n      * generate loading loaded error image url\n      * @param {string} image's src\n      * @return {object} image's loading, loaded, error url\n      */\n\n    }, {\n      key: \"_valueFormatter\",\n      value: function _valueFormatter(value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error; // value is object\n\n        if (isObject$1(value)) {\n          if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n\n    return Lazy;\n  }();\n}\n\nLazy.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  var isVue2 = Vue.version.split('.')[0] === '2';\n\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update: function update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\n\nvar LazyComponent = function LazyComponent(lazy) {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data: function data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy: function destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\n\nLazyComponent.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\n\nvar LazyContainerMananger = /*#__PURE__*/function () {\n  function LazyContainerMananger(_ref5) {\n    var lazy = _ref5.lazy;\n\n    _classCallCheck(this, LazyContainerMananger);\n\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  _createClass(LazyContainerMananger, [{\n    key: \"bind\",\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer({\n        el: el,\n        binding: binding,\n        vnode: vnode,\n        lazy: this.lazy\n      });\n\n      this._queue.push(container);\n    }\n  }, {\n    key: \"update\",\n    value: function update(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({\n        el: el,\n        binding: binding,\n        vnode: vnode\n      });\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n\n      _remove(this._queue, container);\n    }\n  }]);\n\n  return LazyContainerMananger;\n}();\n\nvar defaultOptions = {\n  selector: 'img'\n};\n\nvar LazyContainer = /*#__PURE__*/function () {\n  function LazyContainer(_ref6) {\n    var el = _ref6.el,\n        binding = _ref6.binding,\n        vnode = _ref6.vnode,\n        lazy = _ref6.lazy;\n\n    _classCallCheck(this, LazyContainer);\n\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this._queue = [];\n    this.update({\n      el: el,\n      binding: binding\n    });\n  }\n\n  _createClass(LazyContainer, [{\n    key: \"update\",\n    value: function update(_ref7) {\n      var _this13 = this;\n\n      var el = _ref7.el,\n          binding = _ref7.binding;\n      this.el = el;\n      this.options = assignDeep({}, defaultOptions, binding.value);\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        _this13.lazy.add(el, assignDeep({}, _this13.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || _this13.options.error,\n            loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || _this13.options.loading\n          }\n        }), _this13.vnode);\n      });\n    }\n  }, {\n    key: \"getImgs\",\n    value: function getImgs() {\n      return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this14 = this;\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this14.lazy.remove(el);\n      });\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n\n  return LazyContainer;\n}();\n\nLazyContainer.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  var lazyContainer = new LazyContainer({\n    lazy: lazy\n  });\n  var isVue2 = Vue.version.split('.')[0] === '2';\n\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update: function update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\n\nvar LazyImage = function LazyImage(lazyManager) {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src: function src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created: function created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init: function init() {\n        var _lazyManager$_valueFo = lazyManager._valueFormatter(this.src),\n            src = _lazyManager$_valueFo.src,\n            loading = _lazyManager$_valueFo.loading,\n            error = _lazyManager$_valueFo.error;\n\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        var _this15 = this;\n\n        var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log(\"VueLazyload log: \".concat(this.options.src, \" tried too more than \").concat(this.options.attempt, \" times\"));\n          onFinish();\n          return;\n        }\n\n        var src = this.options.src;\n        loadImageAsync({\n          src: src\n        }, function (_ref8) {\n          var src = _ref8.src;\n          _this15.renderSrc = src;\n          _this15.state.loaded = true;\n        }, function (e) {\n          _this15.state.attempt++;\n          _this15.renderSrc = _this15.options.error;\n          _this15.state.error = true;\n        });\n      }\n    }\n  };\n};\n\nLazyImage.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\n\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var LazyClass = Lazy(Vue);\n    var lazy = new LazyClass(options);\n    var lazyContainer = new LazyContainerMananger({\n      lazy: lazy\n    });\n    var isVue2 = Vue.version.split('.')[0] === '2';\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update: function update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazy.remove(this.el);\n        }\n      });\n      Vue.directive('lazy-container', {\n        update: function update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\nexport default index;\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage };","map":{"version":3,"sources":["D:/code/vue/vue_acgn_platform/node_modules/vue-lazyload/vue-lazyload.esm.js"],"names":["isPrimitive","value","isPrimitive$1","Object","freeze","__proto__","__moduleExports","assignSymbols","receiver","objects","TypeError","Symbol","getOwnPropertySymbols","isEnumerable","prototype","propertyIsEnumerable","target","len","arguments","length","i","provider","names","j","key","call","assignSymbols$1","toString","kindOf","val","type","Boolean","String","Number","Function","constructor","name","slice","Array","isArray","RegExp","Date","isBuffer","kindOf$1","isPrimitive$2","assignSymbols$2","typeOf","assign","isObject","extend","obj","isValidKey","hasOwn","hasOwnProperty","assignDeep","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","IntersectionObserverEntry","defineProperty","get","intersectionRatio","modeType","event","observer","CustomEvent","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","remove","arr","item","index","indexOf","splice","some","fn","has","getBestSelectionFromSrcset","el","scale","tagName","getAttribute","options","result","container","parentNode","containerWidth","offsetWidth","spaceIndex","tmpSrc","tmpWidth","trim","split","map","lastIndexOf","substr","parseInt","push","sort","a","b","bestSelectedSrc","tmpOption","next","find","getDPR","devicePixelRatio","supportWebp","support","elem","createElement","getContext","toDataURL","err","throttle","action","delay","timeout","movement","lastRun","needRun","elapsed","now","context","args","runCallback","apply","setTimeout","clearTimeout","testSupportsPassive","opts","addEventListener","e","supportsPassive","_","on","func","capture","passive","off","removeEventListener","loadImageAsync","resolve","reject","image","Image","src","Error","cors","crossOrigin","onload","naturalHeight","naturalWidth","onerror","style","prop","getComputedStyle","getPropertyValue","overflow","scrollParent","HTMLElement","parent","body","documentElement","test","isObject$1","ObjectKeys","keys","ArrayFrom","arrLike","list","noop","ImageCache","max","_caches","free","shift","ReactiveListener","error","loading","bindType","$parent","elRenderer","imageCache","attempt","rect","_imageCache","performanceData","init","loadStart","loadEnd","filter","initState","render","dataset","setAttribute","state","loaded","rendered","oldSrc","getBoundingClientRect","getRect","top","innerHeight","preLoad","bottom","preLoadTop","left","innerWidth","right","cb","data","silent","console","warn","onFinish","log","renderLoading","adapter","record","add","cache","time","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","Lazy","Vue","throttleWait","dispatchEvent","listenEvents","hasbind","observerOptions","version","mode","ListenerQueue","TargetIndex","TargetQueue","ListenEvents","_initEvent","lazyLoadHandler","_lazyLoadHandler","bind","setMode","performance","vm","_addListenerTarget","_observer","observe","$el","binding","vnode","update","nextTick","_valueFormatter","modifiers","$refs","getElementById","newListener","arg","_elRenderer","exist","unobserve","existItem","_removeListenerTarget","$destroy","forEach","listener","_initListen","_initIntersectionObserver","id","childrenCount","listened","start","listeners","$on","$once","$off","$emit","inCache","freeList","catIn","checkInView","load","IntersectionObserver","_observerHandler","entries","entry","isIntersecting","install","LazyClass","lazy","isVue2","directive","componentUpdated","unbind","newValue","oldValue","$els","LazyComponent","props","tag","default","h","show","$slots","mounted","addLazyBox","beforeDestroy","removeComponent","methods","destroy","component","LazyContainerMananger","lazyContainerMananger","_queue","LazyContainer","clear","defaultOptions","selector","imgs","getImgs","querySelectorAll","lazyContainer","LazyImage","lazyManager","attrs","renderSrc","watch","created","$Lazyload","lazyComponent","lazyImage"],"mappings":"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","sourcesContent":["/*!\n * Vue-Lazyload.js v1.3.4\n * (c) 2021 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n// see http://jsperf.com/testing-value-is-primitive/7\n\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && typeof value !== 'object';\n};\n\nvar isPrimitive$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': isPrimitive,\n  __moduleExports: isPrimitive\n});\n\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nvar assignSymbols = function (receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n      i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar assignSymbols$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols,\n  __moduleExports: assignSymbols\n});\n\nvar toString = Object.prototype.toString;\n\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = typeof val;\n\n  // primitivies\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n  if (val === null) {\n    return 'null';\n  }\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  }\n\n  // functions\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n    return 'function';\n  }\n\n  // array\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  }\n\n  // check for instances of RegExp and Date before calling `toString`\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n  if (val instanceof Date) {\n    return 'date';\n  }\n\n  // other objects\n  type = toString.call(val);\n\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n  if (type === '[object Date]') {\n    return 'date';\n  }\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n  if (type === '[object Error]') {\n    return 'error';\n  }\n  if (type === '[object Promise]') {\n    return 'promise';\n  }\n\n  // buffer\n  if (isBuffer(val)) {\n    return 'buffer';\n  }\n\n  // es6: Map, WeakMap, Set, WeakSet\n  if (type === '[object Set]') {\n    return 'set';\n  }\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n  if (type === '[object Map]') {\n    return 'map';\n  }\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  }\n\n  // typed arrays\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  }\n\n  // must be a plain object\n  return 'object';\n};\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\nvar kindOf$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': kindOf,\n  __moduleExports: kindOf\n});\n\nvar isPrimitive$2 = ( isPrimitive$1 && isPrimitive ) || isPrimitive$1;\n\nvar assignSymbols$2 = ( assignSymbols$1 && assignSymbols ) || assignSymbols$1;\n\nvar typeOf = ( kindOf$1 && kindOf ) || kindOf$1;\n\nfunction assign(target /*, objects*/) {\n  target = target || {};\n  var len = arguments.length,\n      i = 0;\n  if (len === 1) {\n    return target;\n  }\n  while (++i < len) {\n    var val = arguments[i];\n    if (isPrimitive$2(target)) {\n      target = val;\n    }\n    if (isObject(val)) {\n      extend(target, val);\n    }\n  }\n  return target;\n}\n\n/**\n * Shallow extend\n */\n\nfunction extend(target, obj) {\n  assignSymbols$2(target, obj);\n\n  for (var key in obj) {\n    if (isValidKey(key) && hasOwn(obj, key)) {\n      var val = obj[key];\n      if (isObject(val)) {\n        if (typeOf(target[key]) === 'undefined' && typeOf(val) === 'function') {\n          target[key] = val;\n        }\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Returns true if the object is a plain object or a function.\n */\n\nfunction isObject(obj) {\n  return typeOf(obj) === 'object' || typeOf(obj) === 'function';\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\n/**\n * Returns true if the given `key` is a valid key that can be used for assigning properties.\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n\n/**\n * Expose `assign`\n */\n\nvar assignDeep = assign;\n\nconst inBrowser = typeof window !== 'undefined' && window !== null;\n\nconst hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function () {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\n\nconst modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill for IE\n};const CustomEvent = function () {\n  if (!inBrowser) return;\n  // not IE\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  const index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  let has = false;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n\n  let options = el.getAttribute('data-srcset');\n  const result = [];\n  const container = el.parentNode;\n  const containerWidth = container.offsetWidth * scale;\n\n  let spaceIndex;\n  let tmpSrc;\n  let tmpWidth;\n\n  options = options.trim().split(',');\n\n  options.map(item => {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  let bestSelectedSrc = '';\n  let tmpOption;\n\n  for (let i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    const next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  let item;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\n\nconst getDPR = (scale = 1) => inBrowser ? window.devicePixelRatio || scale : scale;\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n\n  let support = true;\n\n  try {\n    const elem = document.createElement('canvas');\n\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  let timeout = null;\n  let movement = null;\n  let lastRun = 0;\n  let needRun = false;\n  return function () {\n    needRun = true;\n    if (timeout) {\n      return;\n    }\n    let elapsed = Date.now() - lastRun;\n    let context = this;\n    let args = arguments;\n    let runCallback = function () {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  let support = false;\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\n\nconst supportsPassive = testSupportsPassive();\n\nconst _ = {\n  on(el, type, func, capture = false) {\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off(el, type, func, capture = false) {\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nconst loadImageAsync = (item, resolve, reject) => {\n  let image = new Image();\n  if (!item || !item.src) {\n    const err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nconst style = (el, prop) => {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nconst overflow = el => {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nconst scrollParent = el => {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  let parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject$1(obj) {\n  return obj !== null && typeof obj === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    let keys = [];\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  let len = arrLike.length;\n  const list = [];\n  for (let i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\n\nfunction noop() {}\n\nclass ImageCache {\n  constructor({ max }) {\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  has(key) {\n    return this._caches.indexOf(key) > -1;\n  }\n\n  add(key) {\n    if (this.has(key)) return;\n    this._caches.push(key);\n    if (this._caches.length > this.options.max) {\n      this.free();\n    }\n  }\n\n  free() {\n    this._caches.shift();\n  }\n}\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nclass ReactiveListener {\n  constructor({ el, src, error, loading, bindType, $parent, options, cors, elRenderer, imageCache }) {\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n\n    this.options = options;\n\n    this.rect = null;\n\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\n   * init listener state\n   * @return\n   */\n  initState() {\n    if ('dataset' in this.el) {\n      this.el.dataset.src = this.src;\n    } else {\n      this.el.setAttribute('data-src', this.src);\n    }\n\n    this.state = {\n      loading: false,\n      error: false,\n      loaded: false,\n      rendered: false\n    };\n  }\n\n  /*\n   * record performance\n   * @return\n   */\n  record(event) {\n    this.performanceData[event] = Date.now();\n  }\n\n  /*\n   * update image listener data\n   * @param  {String} image uri\n   * @param  {String} loading image uri\n   * @param  {String} error image uri\n   * @return\n   */\n  update({ src, loading, error }) {\n    const oldSrc = this.src;\n    this.src = src;\n    this.loading = loading;\n    this.error = error;\n    this.filter();\n    if (oldSrc !== this.src) {\n      this.attempt = 0;\n      this.initState();\n    }\n  }\n\n  /*\n   * get el node rect\n   * @return\n   */\n  getRect() {\n    this.rect = this.el.getBoundingClientRect();\n  }\n\n  /*\n   *  check el is in view\n   * @return {Boolean} el is in view\n   */\n  checkInView() {\n    this.getRect();\n    return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n  }\n\n  /*\n   * listener filter\n   */\n  filter() {\n    ObjectKeys(this.options.filter).map(key => {\n      this.options.filter[key](this, this.options);\n    });\n  }\n\n  /*\n   * render loading first\n   * @params cb:Function\n   * @return\n   */\n  renderLoading(cb) {\n    this.state.loading = true;\n    loadImageAsync({\n      src: this.loading,\n      cors: this.cors\n    }, data => {\n      this.render('loading', false);\n      this.state.loading = false;\n      cb();\n    }, () => {\n      // handler `loading image` load failed\n      cb();\n      this.state.loading = false;\n      if (!this.options.silent) console.warn(`VueLazyload log: load failed with loading image(${this.loading})`);\n    });\n  }\n\n  /*\n   * try load image and  render it\n   * @return\n   */\n  load(onFinish = noop) {\n    if (this.attempt > this.options.attempt - 1 && this.state.error) {\n      if (!this.options.silent) console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`);\n      onFinish();\n      return;\n    }\n    if (this.state.rendered && this.state.loaded) return;\n    if (this._imageCache.has(this.src)) {\n      this.state.loaded = true;\n      this.render('loaded', true);\n      this.state.rendered = true;\n      return onFinish();\n    }\n\n    this.renderLoading(() => {\n      this.attempt++;\n\n      this.options.adapter['beforeLoad'] && this.options.adapter['beforeLoad'](this, this.options);\n      this.record('loadStart');\n\n      loadImageAsync({\n        src: this.src,\n        cors: this.cors\n      }, data => {\n        this.naturalHeight = data.naturalHeight;\n        this.naturalWidth = data.naturalWidth;\n        this.state.loaded = true;\n        this.state.error = false;\n        this.record('loadEnd');\n        this.render('loaded', false);\n        this.state.rendered = true;\n        this._imageCache.add(this.src);\n        onFinish();\n      }, err => {\n        !this.options.silent && console.error(err);\n        this.state.error = true;\n        this.state.loaded = false;\n        this.render('error', false);\n      });\n    });\n  }\n\n  /*\n   * render image\n   * @param  {String} state to render // ['loading', 'src', 'error']\n   * @param  {String} is form cache\n   * @return\n   */\n  render(state, cache) {\n    this.elRenderer(this, state, cache);\n  }\n\n  /*\n   * output performance data\n   * @return {Object} performance data\n   */\n  performance() {\n    let state = 'loading';\n    let time = 0;\n\n    if (this.state.loaded) {\n      state = 'loaded';\n      time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n    }\n\n    if (this.state.error) state = 'error';\n\n    return {\n      src: this.src,\n      state,\n      time\n    };\n  }\n\n  /*\n   * $destroy\n   * @return\n   */\n  $destroy() {\n    this.el = null;\n    this.src = null;\n    this.error = null;\n    this.loading = null;\n    this.bindType = null;\n    this.attempt = 0;\n  }\n}\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nfunction Lazy(Vue) {\n  return class Lazy {\n    constructor({ preLoad, error, throttleWait, preLoadTop, dispatchEvent, loading, attempt, silent = true, scale, listenEvents, hasbind, filter, adapter, observer, observerOptions }) {\n      this.version = '\"1.3.4\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    config(options = {}) {\n      assignDeep(this.options, options);\n    }\n\n    /**\n     * output listener's load performance\n     * @return {Array}\n     */\n    performance() {\n      let list = [];\n\n      this.ListenerQueue.map(item => {\n        list.push(item.performance());\n      });\n\n      return list;\n    }\n\n    /*\n     * add lazy component to queue\n     * @param  {Vue} vm lazy component instance\n     * @return\n     */\n    addLazyBox(vm) {\n      this.ListenerQueue.push(vm);\n      if (inBrowser) {\n        this._addListenerTarget(window);\n        this._observer && this._observer.observe(vm.el);\n        if (vm.$el && vm.$el.parentNode) {\n          this._addListenerTarget(vm.$el.parentNode);\n        }\n      }\n    }\n\n    /*\n     * add image listener to queue\n     * @param  {DOM} el\n     * @param  {object} binding vue directive binding\n     * @param  {vnode} vnode vue directive vnode\n     * @return\n     */\n    add(el, binding, vnode) {\n      if (some(this.ListenerQueue, item => item.el === el)) {\n        this.update(el, binding);\n        return Vue.nextTick(this.lazyLoadHandler);\n      }\n\n      let { src, loading, error, cors } = this._valueFormatter(binding.value);\n\n      Vue.nextTick(() => {\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        this._observer && this._observer.observe(el);\n\n        const container = Object.keys(binding.modifiers)[0];\n        let $parent;\n\n        if (container) {\n          $parent = vnode.context.$refs[container];\n          // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n          $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n        }\n\n        if (!$parent) {\n          $parent = scrollParent(el);\n        }\n\n        const newListener = new ReactiveListener({\n          bindType: binding.arg,\n          $parent,\n          el,\n          loading,\n          error,\n          src,\n          cors,\n          elRenderer: this._elRenderer.bind(this),\n          options: this.options,\n          imageCache: this._imageCache\n        });\n\n        this.ListenerQueue.push(newListener);\n\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._addListenerTarget($parent);\n        }\n\n        this.lazyLoadHandler();\n        Vue.nextTick(() => this.lazyLoadHandler());\n      });\n    }\n\n    /**\n    * update image src\n    * @param  {DOM} el\n    * @param  {object} vue directive binding\n    * @return\n    */\n    update(el, binding, vnode) {\n      let { src, loading, error } = this._valueFormatter(binding.value);\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n\n      const exist = find(this.ListenerQueue, item => item.el === el);\n      if (!exist) {\n        this.add(el, binding, vnode);\n      } else {\n        exist.update({\n          src,\n          loading,\n          error\n        });\n      }\n      if (this._observer) {\n        this._observer.unobserve(el);\n        this._observer.observe(el);\n      }\n      this.lazyLoadHandler();\n      Vue.nextTick(() => this.lazyLoadHandler());\n    }\n\n    /**\n    * remove listener form list\n    * @param  {DOM} el\n    * @return\n    */\n    remove(el) {\n      if (!el) return;\n      this._observer && this._observer.unobserve(el);\n      const existItem = find(this.ListenerQueue, item => item.el === el);\n      if (existItem) {\n        this._removeListenerTarget(existItem.$parent);\n        this._removeListenerTarget(window);\n        remove(this.ListenerQueue, existItem);\n        existItem.$destroy();\n      }\n    }\n\n    /*\n     * remove lazy components form list\n     * @param  {Vue} vm Vue instance\n     * @return\n     */\n    removeComponent(vm) {\n      if (!vm) return;\n      remove(this.ListenerQueue, vm);\n      this._observer && this._observer.unobserve(vm.el);\n      if (vm.$parent && vm.$el.parentNode) {\n        this._removeListenerTarget(vm.$el.parentNode);\n      }\n      this._removeListenerTarget(window);\n    }\n\n    setMode(mode) {\n      if (!hasIntersectionObserver && mode === modeType.observer) {\n        mode = modeType.event;\n      }\n\n      this.mode = mode; // event or observer\n\n      if (mode === modeType.event) {\n        if (this._observer) {\n          this.ListenerQueue.forEach(listener => {\n            this._observer.unobserve(listener.el);\n          });\n          this._observer = null;\n        }\n\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, true);\n        });\n      } else {\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, false);\n        });\n        this._initIntersectionObserver();\n      }\n    }\n\n    /*\n    *** Private functions ***\n    */\n\n    /*\n     * add listener target\n     * @param  {DOM} el listener target\n     * @return\n     */\n    _addListenerTarget(el) {\n      if (!el) return;\n      let target = find(this.TargetQueue, target => target.el === el);\n      if (!target) {\n        target = {\n          el: el,\n          id: ++this.TargetIndex,\n          childrenCount: 1,\n          listened: true\n        };\n        this.mode === modeType.event && this._initListen(target.el, true);\n        this.TargetQueue.push(target);\n      } else {\n        target.childrenCount++;\n      }\n      return this.TargetIndex;\n    }\n\n    /*\n     * remove listener target or reduce target childrenCount\n     * @param  {DOM} el or window\n     * @return\n     */\n    _removeListenerTarget(el) {\n      this.TargetQueue.forEach((target, index) => {\n        if (target.el === el) {\n          target.childrenCount--;\n          if (!target.childrenCount) {\n            this._initListen(target.el, false);\n            this.TargetQueue.splice(index, 1);\n            target = null;\n          }\n        }\n      });\n    }\n\n    /*\n     * add or remove eventlistener\n     * @param  {DOM} el DOM or Window\n     * @param  {boolean} start flag\n     * @return\n     */\n    _initListen(el, start) {\n      this.options.ListenEvents.forEach(evt => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler));\n    }\n\n    _initEvent() {\n      this.Event = {\n        listeners: {\n          loading: [],\n          loaded: [],\n          error: []\n        }\n      };\n\n      this.$on = (event, func) => {\n        if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n        this.Event.listeners[event].push(func);\n      };\n\n      this.$once = (event, func) => {\n        const vm = this;\n        function on() {\n          vm.$off(event, on);\n          func.apply(vm, arguments);\n        }\n        this.$on(event, on);\n      };\n\n      this.$off = (event, func) => {\n        if (!func) {\n          if (!this.Event.listeners[event]) return;\n          this.Event.listeners[event].length = 0;\n          return;\n        }\n        remove(this.Event.listeners[event], func);\n      };\n\n      this.$emit = (event, context, inCache) => {\n        if (!this.Event.listeners[event]) return;\n        this.Event.listeners[event].forEach(func => func(context, inCache));\n      };\n    }\n\n    /**\n     * find nodes which in viewport and trigger load\n     * @return\n     */\n    _lazyLoadHandler() {\n      const freeList = [];\n      this.ListenerQueue.forEach((listener, index) => {\n        if (!listener.el || !listener.el.parentNode) {\n          freeList.push(listener);\n        }\n        const catIn = listener.checkInView();\n        if (!catIn) return;\n        listener.load();\n      });\n      freeList.forEach(item => {\n        remove(this.ListenerQueue, item);\n        item.$destroy();\n      });\n    }\n    /**\n    * init IntersectionObserver\n    * set mode to observer\n    * @return\n    */\n    _initIntersectionObserver() {\n      if (!hasIntersectionObserver) return;\n      this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n      if (this.ListenerQueue.length) {\n        this.ListenerQueue.forEach(listener => {\n          this._observer.observe(listener.el);\n        });\n      }\n    }\n\n    /**\n    * init IntersectionObserver\n    * @return\n    */\n    _observerHandler(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.ListenerQueue.forEach(listener => {\n            if (listener.el === entry.target) {\n              if (listener.state.loaded) return this._observer.unobserve(listener.el);\n              listener.load();\n            }\n          });\n        }\n      });\n    }\n\n    /**\n    * set element attribute with image'url and state\n    * @param  {object} lazyload listener object\n    * @param  {string} state will be rendered\n    * @param  {bool} inCache  is rendered from cache\n    * @return\n    */\n    _elRenderer(listener, state, cache) {\n      if (!listener.el) return;\n      const { el, bindType } = listener;\n\n      let src;\n      switch (state) {\n        case 'loading':\n          src = listener.loading;\n          break;\n        case 'error':\n          src = listener.error;\n          break;\n        default:\n          src = listener.src;\n          break;\n      }\n\n      if (bindType) {\n        el.style[bindType] = 'url(\"' + src + '\")';\n      } else if (el.getAttribute('src') !== src) {\n        el.setAttribute('src', src);\n      }\n\n      el.setAttribute('lazy', state);\n\n      this.$emit(state, listener, cache);\n      this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n      if (this.options.dispatchEvent) {\n        const event = new CustomEvent(state, {\n          detail: listener\n        });\n        el.dispatchEvent(event);\n      }\n    }\n\n    /**\n    * generate loading loaded error image url\n    * @param {string} image's src\n    * @return {object} image's loading, loaded, error url\n    */\n    _valueFormatter(value) {\n      let src = value;\n      let loading = this.options.loading;\n      let error = this.options.error;\n\n      // value is object\n      if (isObject$1(value)) {\n        if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n        src = value.src;\n        loading = value.loading || this.options.loading;\n        error = value.error || this.options.error;\n      }\n      return {\n        src,\n        loading,\n        error\n      };\n    }\n  };\n}\n\nLazy.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\n\nconst LazyComponent = lazy => {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\n\nLazyComponent.install = function (Vue, options = {}) {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\n\nclass LazyContainerMananger {\n  constructor({ lazy }) {\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({ el, binding, vnode, lazy: this.lazy });\n    this._queue.push(container);\n  }\n\n  update(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.update({ el, binding, vnode });\n  }\n\n  unbind(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.clear();\n    remove(this._queue, container);\n  }\n}\n\nconst defaultOptions = {\n  selector: 'img'\n};\n\nclass LazyContainer {\n  constructor({ el, binding, vnode, lazy }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n\n    this._queue = [];\n    this.update({ el, binding });\n  }\n\n  update({ el, binding }) {\n    this.el = el;\n    this.options = assignDeep({}, defaultOptions, binding.value);\n\n    const imgs = this.getImgs();\n    imgs.forEach(el => {\n      this.lazy.add(el, assignDeep({}, this.binding, {\n        value: {\n          src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n          error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || this.options.error,\n          loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || this.options.loading\n        }\n      }), this.vnode);\n    });\n  }\n\n  getImgs() {\n    return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n  }\n\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach(el => this.lazy.remove(el));\n\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\n\nLazyContainer.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  const lazyContainer = new LazyContainer({ lazy });\n\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\n\nconst LazyImage = lazyManager => {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init() {\n        const { src, loading, error } = lazyManager._valueFormatter(this.src);\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load(onFinish = noop) {\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log(`VueLazyload log: ${this.options.src} tried too more than ${this.options.attempt} times`);\n          onFinish();\n          return;\n        }\n        const src = this.options.src;\n        loadImageAsync({ src }, ({ src }) => {\n          this.renderSrc = src;\n          this.state.loaded = true;\n        }, e => {\n          this.state.attempt++;\n          this.renderSrc = this.options.error;\n          this.state.error = true;\n        });\n      }\n    }\n  };\n};\n\nLazyImage.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\n\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install(Vue, options = {}) {\n    const LazyClass = Lazy(Vue);\n    const lazy = new LazyClass(options);\n    const lazyContainer = new LazyContainerMananger({ lazy });\n\n    const isVue2 = Vue.version.split('.')[0] === '2';\n\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazy.remove(this.el);\n        }\n      });\n\n      Vue.directive('lazy-container', {\n        update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\n\nexport default index;\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage };\n"]},"metadata":{},"sourceType":"module"}